# üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

## –ö–∞—Ä—Ç–∏–Ω–∞ —Ü–µ–ª–∏–∫–æ–º
- `bot.py` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞: –∑–∞–≥—Ä—É–∑–∫–∞ .env, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î, —Å–±–æ—Ä–∫–∞ —Ä–æ—É—Ç–µ—Ä–æ–≤, —Å—Ç–∞—Ä—Ç polling.
- `–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏/` ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –∏ callback‚Äô–æ–≤.
- `—É—Ç–∏–ª–∏—Ç—ã/` ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–ë–î, –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, –ø—Ä–∞–≤–∞, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ).
- `–¥–∞–Ω–Ω—ã–µ/bot.db` ‚Äî SQLite —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π
```
–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏/
  commands.py    # /start, /leaderboard, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
  callbacks.py   # –∫–Ω–æ–ø–∫–∏ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
  tests.py       # –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
  admin.py       # CRUD –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ + –≤–∏–¥–µ–æ
  ai.py          # /ask ‚Üí OpenRouter (Specter)

—É—Ç–∏–ª–∏—Ç—ã/
  database.py    # —Ä–∞–±–æ—Ç–∞ —Å SQLite, CRUD
  keyboards.py   # —Å–±–æ—Ä–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä
  auth.py        # –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ (is_admin)
  text_formatter.py # —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤
```

## –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö
1. Telegram update ‚Üí `Dispatcher` ‚Üí –Ω—É–∂–Ω—ã–π `router`.
2. Handler –≤—ã–∑—ã–≤–∞–µ—Ç `—É—Ç–∏–ª–∏—Ç—ã.database` –¥–ª—è —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏.
3. –û—Ç–≤–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `aiogram` + `—É—Ç–∏–ª–∏—Ç—ã.keyboards`.
4. AI-–∑–∞–ø—Ä–æ—Å—ã: `–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏/ai.py` ‚Üí OpenRouter API (–∫–ª—é—á –∏–∑ `.env`).

## –ü—Ä–∏–Ω—Ü–∏–ø—ã
- SRP: –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ–π –∫—É—Å–æ–∫ (handlers –Ω–µ –∑–Ω–∞—é—Ç SQL).
- DIP: –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —É—Ç–∏–ª–∏—Ç; —É—Ç–∏–ª–∏—Ç—ã –Ω–µ –∑–Ω–∞—é—Ç –æ Telegram.
- OCP: –Ω–æ–≤—ã–µ —Ñ–∏—á–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∫ –Ω–æ–≤—ã–µ —Ä–æ—É—Ç–µ—Ä—ã/—Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –ø—Ä–∞–≤–∫–∏ —Å—Ç–∞—Ä—ã—Ö.

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ
- –ù–æ–≤—ã–π —Ç–∏–ø –¥–∏–∞–ª–æ–≥–∞ ‚Üí –Ω–æ–≤—ã–π —Ñ–∞–π–ª –≤ `–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏/` –∏ include –≤ `–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏/__init__.py`.
- –ù–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è —Å –ë–î ‚Üí –º–µ—Ç–æ–¥ –≤ `—É—Ç–∏–ª–∏—Ç—ã/database.py`.
- –ù–æ–≤–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ ‚Üí —Ñ—É–Ω–∫—Ü–∏—è –≤ `—É—Ç–∏–ª–∏—Ç—ã/keyboards.py`.

## –ù—é–∞–Ω—Å—ã
- ENV: `TELEGRAM_BOT_TOKEN` / `BOT_TOKEN`, `OPENROUTER_API_KEY`.
- –î–æ—Å—Ç—É–ø –∞–¥–º–∏–Ω–∞: `—É—Ç–∏–ª–∏—Ç—ã/auth.py:is_admin`.
- –õ–æ–≥–∏: `logging.basicConfig(level=INFO)` –≤ `bot.py`.

